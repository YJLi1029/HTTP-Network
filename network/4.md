# 4. 상태 코드

# 상태 코드

HTTP 상태 코드는 클라이언트가 서버를 향해 리퀘스트를 보낼 때 서버에서 그 결과가 어떻게 되었는지를 알려준다. HTTP 응답 메시지의 첫째 줄에 웹 서버가 결과 응답 상태를 코드로 알려주게 된다. 

리스폰스에서 상태 코드와 함께 되돌아 오는 정보는 메소드에 따라 다르다.


## 1xx 정보(Information)   

1xx 리스폰스는 웹 서버가 정보를 알려주기 위해 사용된다. 잘 사용되지는 않는다.    


### 100 Continue
지금까지의 상태가 양호하며, 클라이언트가 계속 요청을 하거나 이미 요청을 완료한 경우에는 무시해도 된다는 것을 알려준다. 


### 101 Switching Protocol
이 코드는 클라이언트가 보낸 Upgrade 요청 헤더에 대한 리스폰스에 포함되며, 서버에서 프로토콜을 변경할 것임을 알려준다. 



### 103 Early Hints
103 상태 코드는 주로 Link 헤더와 함께 사용되며 서버가 응답을 준비하는 동안 사용자 에이전트(user agent)가 사전 로딩(preloading)을 시작할 수 있도록 한다. 



## 2xx 성공(Success)

2xx 리스폰스는 클라이언트가 보낸 리퀘스트를 서버가 정상 처리하였음을 나타낸다.


### 200 OK

리퀘스트가 성공적으로 수행되었음을 나타낸다. 성공의 의미는 HTTP 메소드(GET, HEAD, PUT, TRACE 등)에 따라 달라지게 된다. 



### 204 No Content

클라이언트에서 서버에 정보를 보내는 것으로 만족하고, 클라이언트에서는 새로운 정보를 받을 필요가 없는 경우에 사용된다.

이 리스폰스는 서버가 리퀘스트를 받아서 처리하는 데는 성공했지만, 리스폰스에 엔티티 바디를 포함하지 않는다.


### 206 Partial Content

이 리스폰스는 클라이언트에서 여러 개의 스트림을 다운받고자 Range 헤더에 의해 범위가 지정된 리퀘스트를 보냈을 때 사용된다. 리스폰스에는 Content-Range로 지정된 범위의 엔티티가 포함된다.



## 3xx 리다이렉트(redirection)

3xx 리스폰스는 리퀘스트가 정상적으로 처리를 완료하기 위해 브라우저 측에서 추가적인 처리를 해야 함을 나타낸다.



### 301 Moved Permanently

리퀘스트된 리소스에는 새로운 URI가 부여되기 때문에 이후로는 새로운 리소스를 참조하는 URI를 사용해야 한다는 것을 의미한다.

보통 디렉토리를 지정했을 때 마지막에 슬래시(/)를 잊은 경우에 나타난다.



### 302 Found

이 리스폰스는 리퀘스트된 리소스의 URI가 일시적으로 변경되었다는 것을 의미한다. 

301 코드와 유사하지만, 302의 경우에는 영구적이지 않은 일시적인 이동이다.



### 303 See Other

이 리스폰스는 클라이언트가 리퀘스트한 리소스를 URI에서 GET 메소드를 이용해 얻어야 한다는 것을 나타낸다.

302 코드와 같은 기능이지만, 리다이렉트 장소를 GET 메소드로 얻어야 한다고 명확하게 되어 있는 점이 302와 다르다.

※ 301, 302, 303 리스폰스 코드가 되돌아 오면 대부분의 브라우저에서는 POST를 GET으로 바꾸어서 리퀘스트의 엔티티 바디를 삭제하고 리퀘스트를 자동적으로 재송신하도록 되어 있다.



### 304 Not Modified

캐시를 목적으로 사용되는 리스폰스이다. 클라이언트가 조건부 리퀘스트를 했을 때 리소스에 대한 액세스는 허락하지만, 조건이 충족되지 않음을 표시한다.

304는 3xx에 분류되어 있지만 리다이렉트와는 관계가 없다.



### 307 Temporary Redirect

302 코드와 같은 의미를 가진다. 클라이언트가 요청한 리소스가 다른 URI에 있으며, 이전 요청과 동일한 메소드를 사용하여 요청해야 할 때, 서버가 클라이언트에 이 메시지를 보낸다. 사용자 에이전트는 반드시 이전에 사용된 HTTP 메소드를 사용해야 한다. 브라우저마다 리스폰스를 처리하는 동작이 다를 수 있다.



## 4xx 클라이언트 에러(client error)

4xx 리스폰스는 클라이언트 원인으로 리퀘스트에 에러가 발생했음을 나타낸다.(ex. 문법이 잘못됨)



### 400 Bad Request

리퀘스트 구문에 문법상의 오류가 있어 서버가 이해할 수 없음을 나타낸다. 브라우저는 이를 200 OK와 같이 취급한다.



### 401 Unauthorized

클라이언트는 리스폰스를 받기 위해서 반드시 스스로를 인증(authorize)하는 과정(HTTP 인증, BASIC 인증, DIGEST 인증)이 필요하다. 이미 한번 리퀘스트가 발생했다면 유저 인증에 실패했음을 나타낸다.



### 403 Forbidden

리퀘스트된 리소스의 액세스가 거부되었음을 나타낸다. 401 코드와 다른 점은 403에서 서버는 클라이언트가 누구인지 알고 있다는 것이다. 

※ 403이 발생하는 원인에는 파일 시스템의 허가가 부여되지 않은 경우와 액세스 권한에 문제(허가되지 않은 송신 IP 주소의 액세스 등)가 있는 경우가 있다.



### 404 Not Found

리퀘스트한 리소스가 서버상에 없다는 것을 나타낸다. 그 외에도 서버 측에 리퀘스트를 거부하고 싶은 이유를 분명히 하고 싶지 않은 경우에도 이용한다. 웹에서 반복적으로 발생하기에 가장 유명한 코드이다. 



## 5xx 서버 에러(server error)

5xx 리스폰스는 서버 원인으로 에러가 발생함을 나타낸다.



### 500 Internal Server Error

이 리스폰스는 서버에서 리퀘스트를 처리하는 과정에 에러가 발생하였음을 나타낸다.



### 503 Service Unavailable

서버가 요청을 처리할 준비가 되지 않은 상태일때 사용되는 코드이다.    
일시적으로 서버가 과부하 상태이거나 점검중인 경우 등이 있다. 이 상태가 해소되기까지 시간이 걸리는 경우에는 Retry-After 헤더 필드에 따라 클라이언트에 전달하는 것이 좋다.

※ 상태 코드가 현재 상황과 맞지 않을 수 있다!