# 1. 웹 & 네트워크 기본

# HTTP

하이퍼텍스트 전송 프로토콜(HTTP)은 HTML과 같은 하이퍼미디어 문서를 전송하기 위한 애플리케이션 레이어(layer) 프로토콜이다. 웹 브라우저와 웹 서버간의 커뮤니케이션을 위해 디자인되었지만, 다른 목적으로도 사용될 수 있다.    

HTTP는 클라이언트가 요청을 생성하기 위한 연결을 연 다음 응답을 받을 때까지 대기하는 전형적인 클라이언트-서버 모델을 따른다.    
HTTP는 무상태 프로토콜(stateless protocol)이며, 이는 서버가 두 요청간에 어떠한 데이터(상태)도 유지하지 않음을 의미한다.    

일반적으로 안정적인 전송 레이어로 UDP와 달리 메세지를 잃지 않는 프로토콜인 TCP/IP 레이어를 기반으로 사용 한다.   
※ RUDP — 안정적인 업데이트인 UDP의 적합한 대안   

HTTP는 사용이 쉬운 확장 가능한 프로토콜이다. 클라이언트-서버 구조에서는 헤더를 쉽게 추가할 수 있기 때문에 HTTP가 웹과 함께 발전할 수 있다. 



# TCP/IP

TCP/IP(Transmission Control Protocol/Internet Protocol)는 인터넷과 관련된 모든 프로토콜들의 집합. 데이터가 전송되는 운송 장치와 같은 역할을 한다. 

컴퓨터와 네트워크 기기가 상호간에 통신하기 위해서는 서로 같은 방법으로 통신해야 한다.

- 프로토콜 : 서로 다른 하드웨어나 운영체제 등을 가지고 서로 통신을 하기 위해 필요한 규칙
- 케이블 규격, IP 주소 지정 방법, 떨어진 상대를 찾기 위한 방법과 그곳에 도달하는 순서, 웹을 표시하기 위한 순서 등.

IP 프로토콜을 사용한 통신에서 사용되고 있는 프로토콜을 총칭해서 TCP/IP라고 부르기도 한다.



## 계층(layer)

TCP/IP는 계층화되어 있다. 

인터넷이 계층화된 프로토콜로 이루어져 있다면 사양이 변경되거나 설계를 할 때 해당 계층만 고려하면 된다. 각 계층은 계층이 연결되어 있는 부분만 결정되어 있어 각 계층의 내부는 자유롭게 설정 가능하다. 

- 애플리케이션 계층
    - 유저에게 제공되는 애플리케이션에서 사용하는 통신의 움직임을 결정
    - TCP/IP에는 여러 공통 애플리케이션이 있음. ex) FTP, DNS, HTTP
- 트랜스포트 계층
    - 애플리케이션 계층에 네트워크로 접속되어 있는 2대의 컴퓨터 사이의 데이터 흐름을 제공.
    - 두 가지 다른 성질의 프로토콜인 TCP, UDP 존재.
- 네트워크 계층(인터넷 계층)
    - 네트워크 상에서 패킷의 이동을 다룸.

        ※ 패킷 : 전송하는 데이터의 최소 단위

    - 어떠한 경로(절차)를 거쳐 상대의 컴퓨터까지 패킷을 보낼지 결정하는 역할.
- 링크 계층(데이터링크 계층, 네트워크 인터페이스 계층)
    - 네트워크에 접속하는 하드웨어적인 면을 다룸.
    - 디바이스 드라이버, 네트워크 인터페이스 카드(NIC), 케이블 등의 여러 전송매체 등을 포함


### 통신의 흐름

계층(layer)을 순서대로 거쳐 상대방과 통신.

송신하는 측(클라이언트)은 애플리케이션 계층에서부터 내려가고, 수신하는 측(서버)은 애플리케이션 계층에서 위로 올라간다.



**HTTP 통신**

송신 : 계층을 통과할 때마다 헤더를 추가

- 애플리케이션 계층(HTTP 클라이언트) : HTTP 리퀘스트를 지시
- 트랜스포트 계층 (TCP): 애플리케이션 계층에서 받은 데이터에 안내 번호/포트 번호를 붙여 전달
- 네트워크 계층(IP) : 수신지 MAC 주소를 추가해 전달
- 링크 계층(네트워크) : 네트워크 송신 준비 완료

수신 : 계층을 통과할 때마다 헤더를 삭제

- 링크 계층부터 받아들여 애플리케이션 계층까지 도달.

→ HTTP 리퀘스트 내용 수신할 수 있음

→ 이렇게 정보를 감싸는 것을 캡슐화라고 부름.



# IP/TCP/DNS

IP/TCP/DNS는 HTTP와 관련이 깊다.   


## IP(Internet protocol)

네트워크 계층에 해당한다.

인터넷을 활용하는 대부분의 시스템이 IP를 이용한다.

'IP 주소' 와 'IP'는 같지 않다!!

→ 'IP'는 프로토콜의 명칭   
→ 'IP 주소'는 IP 프로토콜에서 IP 기기의 주소를 나타내는 것

개개의 패킷을 상대방에게 전달하는 역할. 여기서 IP 주소와 MAC 주소가 필요.

- IP 주소 : 인터넷 프로토콜을 사용하는 네트워크에 연결된 모든 장치에 할당된 번호. 변경 가능.
            실제 웹 주소이며 웹의 하나뿐인 특정 위치를 나타낸다. 
- MAC 주소 : 각 네트워크 카드에 할당된 고유의 주소. 변경 불가능.

통신은 ARP를 이용해 MAC 주소에서 한다.

인터넷에서 통신 상대가 같은 랜선 내에 있을 경우는 적어서 여러 대의 컴퓨터와 네트워크 기기를 중계해서 상대방에게 도착. 그렇게 중계하는 동안 다음으로 중계할 곳의 MAC 주소를 사용해 목적지를 찾아감.

- ARP(Address Resolution Protocol) : 주소를 해결하기 위한 프로토콜. 수신지의 IP 주소를 바탕으로 MAC 주소를 알아낸다.

택배 배송을 할 때 직접 집으로 택배를 배송하는 배송기사가 아니면 정확한 목적지는 알지 못한다. 그런 것처럼, 목적지까지 중계를 하는 동안 컴퓨터, 라우터 등의 네트워크 기기는 대략적인 목적지만을 알고 있다.  

IP 주소는 여기서 배달지 주소의 역할을 하게 된다. 



## TCP(Transfer Control Protocol)

트랜스포트 계층에 해당. 신뢰성 있는 바이트 스트림 서비스를 제공한다.    

※ 바이트 스트림 서비스 : 용량이 큰 데이터를 보내기 쉽게 TCP 세그먼트라고 불리는 단위 패킷으로 작게 분해하여 관리하는 것.

※ 신뢰성 있는 서비스 : 상대방에게 보내는 서비스

→ 대용량의 데이터를 보내기 쉽게 작게 분해하여 상대에게 보내고, 정확하게 도착했는지 확인하는 역할.

상대에게 확실하게 데이터를 보내기 위해 'Three Way Handshaking'을 사용.

- 보내고 끝이 아니라, 보내졌는지 여부를 상대에게 확인하는 것.
- SYN(패킷을 보냄) - SYN/ACK(패킷 수신 사실을 전함) - ACK(패킷 교환 완료)



## DNS(Domain Name System)


HTTP와 같이 응용 계층 시스템에서 도메인 이름과 IP 주소 이름 확인을 제공한다. 

IP주소만을 사용하면 기억하기에 쉽지 않기 때문에 DNS가 발명되었다.   

- [www.naver.com](http://www.naver.com) 처럼 주소 대신 이름을 영어나 숫자 등으로 표기한다. 
- 컴퓨터는 이름으로 부르는 과정이 불편하므로 DNS를 이용해 도메인명에서 IP주소를 조사하거나 반대로 IP주소로부터 도메인명을 조사한다.


웹 사이트를 위한 주소록과 같다. 브라우저에 웹 주소를 입력하게 되면 브라우저는 DNS 서버로 가서 웹 사이트가 있는 서버의 진짜 주소를 찾는다.   



## URI, URL

URI(Uniform Resource Identifier) : 스키마를 나타내는 리소스를 식별하기 위한 식별자. 인터넷 상의 자원을 식별하기 위한 문자열의 구성이다. 

※ 스키마(ex)http://) : 리소스를 얻기 위한 수단에 이름을 붙이는 방법

URL(Uniform Resource Locator) : 웹 페이지를 표시하기 위한 주소. 인터넷 상의 자원 위치를 나타낸다.

ex) HTTP는 'http' 사용. 그 외에도 ftp, mailto, telnet, file 등이 있음

URL(리소스의 장소, 네트워크 상의 위치)은 URI(리소스를 식별하기 위한 문자열 전반)의 하위개념이다.

- URL 절대 포맷

    [http://user:pass@www.example.com:80/dir/index/htm?uid=1#ch1](http://user:pass@www.example.com:80/dir/index/htm?uid=1#ch1) 의 형태

    스키마

    자격정보(크리덴셜) : 서버로부터 리소스를 취득하기 위해 필요. 유저명과 패스워드 지정 가능.

    서버주소 : DNS 이름이나 IPv4주소, IPv6주소 형식으로 저장

    서버포트 : 서버의 접속 대상이 되는 네트워크 포트 번호를 지정. 생략하면 디폴트 포트 사용. 필수x

    계층적 파일 패스 : 특정 리소스를 식별하기 위해 서버 상의 파일 패스를 지정. UNIX의 디렉토리 지정 방법과 유사.

    쿼리 문자열 : 파일 패스로 지정된 리소스에 임의의 파라미터를 넘겨주기 위해 쿼리 문자열을 사용. 필수x

    프래그먼트 식별자 : 주로 취득한 리소스에서 서브 리소스(도큐먼트 중간에 위치)를 가리키기 위해서  사용. 필수x